
> mandanten-portal-server@1.0.0 start
> node server.js

Failed to initialize Google Document AI REST client: Error: No Google Cloud credentials provided. Set either GOOGLE_SERVICE_ACCOUNT_KEY or GOOGLE_APPLICATION_CREDENTIALS
    at new GoogleDocumentAI_REST (/Users/luka/Documents/Development/Mandanten-Portal/server/services/googleDocumentAI_REST.js:39:15)
    at Object.<anonymous> (/Users/luka/Documents/Development/Mandanten-Portal/server/services/documentProcessor.js:8:17)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1491:12)
    at require (node:internal/modules/helpers:135:16)
    at Object.<anonymous> (/Users/luka/Documents/Development/Mandanten-Portal/server/server.js:28:27)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
‚ùå Failed to initialize Google Document AI REST client: No Google Cloud credentials provided. Set either GOOGLE_SERVICE_ACCOUNT_KEY or GOOGLE_APPLICATION_CREDENTIALS
üìù Document processing will continue with mock data for development
‚ö†Ô∏è CLAUDE_API_KEY not found in environment variables
üá©üá™ Initializing German Garnishment Calculator...
‚úÖ German Garnishment Calculator ready (with 2025-2026 table)
üß™ Initializing Test Data Service...
üìä Loaded 11 financial test profiles
üèõÔ∏è Loaded 8 creditor response templates
üîó Loaded 6 complete workflow tests
‚úÖ Test Data Service ready
üîå Connecting to MongoDB...
üìç MongoDB URI: mongodb://localhost:27017/mandanten-portal
(node:94454) [MONGOOSE] Warning: Duplicate schema index on {"aktenzeichen":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:94454) [MONGOOSE] Warning: Duplicate schema index on {"username":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:94454) [MONGOOSE] Warning: Duplicate schema index on {"email":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:94454) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(node:94454) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
‚úÖ Connected to MongoDB successfully
üöÄ Server running on http://localhost:3001
üìÅ Uploads directory: /Users/luka/Documents/Development/Mandanten-Portal/server/uploads
üíæ Database: MongoDB Connected
üìÖ Scheduled tasks started:
  ‚Ä¢ Document reminders: every hour
  ‚Ä¢ Delayed processing webhooks: every 30 minutes
  ‚Ä¢ Login reminders: every 6 hours (7-day cycle)

‚è∞ Running initial document reminder check...
üîÑ Starting document reminder check...
‚ùå Error in document reminder service: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DocumentReminderService.checkAndSendReminders (/Users/luka/Documents/Development/Mandanten-Portal/server/services/documentReminderService.js:20:37) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
‚ùå Error in initial document reminder check: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DocumentReminderService.checkAndSendReminders (/Users/luka/Documents/Development/Mandanten-Portal/server/services/documentReminderService.js:20:37) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}

‚è∞ Running initial delayed webhook check...
üîç Checking for pending processing-complete webhooks...
‚ùå Error in delayed processing service: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DelayedProcessingService.checkAndTriggerPendingWebhooks (/Users/luka/Documents/Development/Mandanten-Portal/server/services/delayedProcessingService.js:71:30) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
‚ùå Error in initial delayed webhook check: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DelayedProcessingService.checkAndTriggerPendingWebhooks (/Users/luka/Documents/Development/Mandanten-Portal/server/services/delayedProcessingService.js:71:30) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}

‚è∞ Running initial login reminder check...
üîÑ Starting login reminder check...
‚ùå Error in login reminder service: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async LoginReminderService.checkAndSendLoginReminders (/Users/luka/Documents/Development/Mandanten-Portal/server/services/loginReminderService.js:20:43) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
‚ùå Error in initial login reminder check: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async LoginReminderService.checkAndSendLoginReminders (/Users/luka/Documents/Development/Mandanten-Portal/server/services/loginReminderService.js:20:43) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
üîê Agent login attempt for username: undefined
üîê Agent login attempt for username: admin@test.com
‚ùå Agent login error: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async Collection.findOne (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/collection.js:277:21)
    at async model.Query._findOne (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2687:15)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async /Users/luka/Documents/Development/Mandanten-Portal/server/routes/agent-auth.js:24:19 {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}

‚è∞ Running scheduled delayed webhook check...
üîç Checking for pending processing-complete webhooks...
‚ùå Error in delayed processing service: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DelayedProcessingService.checkAndTriggerPendingWebhooks (/Users/luka/Documents/Development/Mandanten-Portal/server/services/delayedProcessingService.js:71:30) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
‚ùå Error in scheduled delayed webhook check: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DelayedProcessingService.checkAndTriggerPendingWebhooks (/Users/luka/Documents/Development/Mandanten-Portal/server/services/delayedProcessingService.js:71:30) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}

‚è∞ Running scheduled document reminder check...
üîÑ Starting document reminder check...
‚ùå Error in document reminder service: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DocumentReminderService.checkAndSendReminders (/Users/luka/Documents/Development/Mandanten-Portal/server/services/documentReminderService.js:20:37) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
‚ùå Error in scheduled document reminder check: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DocumentReminderService.checkAndSendReminders (/Users/luka/Documents/Development/Mandanten-Portal/server/services/documentReminderService.js:20:37) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}

‚è∞ Running scheduled delayed webhook check...
üîç Checking for pending processing-complete webhooks...
‚ùå Error in delayed processing service: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DelayedProcessingService.checkAndTriggerPendingWebhooks (/Users/luka/Documents/Development/Mandanten-Portal/server/services/delayedProcessingService.js:71:30) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
‚ùå Error in scheduled delayed webhook check: MongoServerError: Command find requires authentication
    at Connection.sendCommand (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:305:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Connection.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cmap/connection.js:333:26)
    at async Server.command (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/sdam/server.js:171:29)
    at async FindOperation.execute (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/find.js:36:16)
    at async tryOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:207:20)
    at async executeOperation (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:75:16)
    at async FindCursor._initialize (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:61:26)
    at async FindCursor.cursorInit (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:633:27)
    at async FindCursor.fetchBatch (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:667:13)
    at async FindCursor.next (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:347:17)
    at async [Symbol.asyncIterator] (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:255:34)
    at async FindCursor.toArray (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:427:26)
    at async model.Query._find (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:2407:14)
    at async model.Query.exec (/Users/luka/Documents/Development/Mandanten-Portal/server/node_modules/mongoose/lib/query.js:4604:63)
    at async DelayedProcessingService.checkAndTriggerPendingWebhooks (/Users/luka/Documents/Development/Mandanten-Portal/server/services/delayedProcessingService.js:71:30) {
  errorLabelSet: Set(0) {},
  errorResponse: {
    ok: 0,
    errmsg: 'Command find requires authentication',
    code: 13,
    codeName: 'Unauthorized'
  },
  ok: 0,
  code: 13,
  codeName: 'Unauthorized'
}
