
> mandanten-portal-server@1.0.0 start
> node server.js

Failed to initialize Google Document AI REST client: Error: No Google Cloud credentials provided. Set either GOOGLE_SERVICE_ACCOUNT_KEY or GOOGLE_APPLICATION_CREDENTIALS
    at new GoogleDocumentAI_REST (/Users/luka/Documents/Development/Mandanten-Portal/server/services/googleDocumentAI_REST.js:39:15)
    at Object.<anonymous> (/Users/luka/Documents/Development/Mandanten-Portal/server/services/documentProcessor.js:8:17)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1491:12)
    at require (node:internal/modules/helpers:135:16)
    at Object.<anonymous> (/Users/luka/Documents/Development/Mandanten-Portal/server/server.js:28:27)
    at Module._compile (node:internal/modules/cjs/loader:1734:14)
    at Object..js (node:internal/modules/cjs/loader:1899:10)
    at Module.load (node:internal/modules/cjs/loader:1469:32)
    at Function._load (node:internal/modules/cjs/loader:1286:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
âŒ Failed to initialize Google Document AI REST client: No Google Cloud credentials provided. Set either GOOGLE_SERVICE_ACCOUNT_KEY or GOOGLE_APPLICATION_CREDENTIALS
ğŸ“ Document processing will continue with mock data for development
âš ï¸ CLAUDE_API_KEY not found in environment variables
ğŸ‡©ğŸ‡ª Initializing German Garnishment Calculator...
âœ… German Garnishment Calculator ready (with 2025-2026 table)
ğŸ§ª Initializing Test Data Service...
ğŸ“Š Loaded 11 financial test profiles
ğŸ›ï¸ Loaded 8 creditor response templates
ğŸ”— Loaded 6 complete workflow tests
âœ… Test Data Service ready
ğŸ”Œ Connecting to MongoDB...
ğŸ“ MongoDB URI: mongodb://localhost:27017/mandanten-portal-test
(node:36200) [MONGOOSE] Warning: Duplicate schema index on {"aktenzeichen":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:36200) [MONGOOSE] Warning: Duplicate schema index on {"username":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:36200) [MONGOOSE] Warning: Duplicate schema index on {"email":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:36200) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(node:36200) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
âœ… Connected to MongoDB successfully
ğŸš€ Server running on http://localhost:3001
ğŸ“ Uploads directory: /Users/luka/Documents/Development/Mandanten-Portal/server/uploads
ğŸ’¾ Database: MongoDB Connected
ğŸ“… Scheduled tasks started:
  â€¢ Document reminders: every hour
  â€¢ Delayed processing webhooks: every 30 minutes
  â€¢ Login reminders: every 6 hours (7-day cycle)

â° Running initial document reminder check...
ğŸ”„ Starting document reminder check...
ğŸ“‹ Found 0 clients waiting for documents
âœ… Document reminder check complete. Sent: 0, Errors: 0
âœ… Initial document reminder check complete: 0 reminders sent

ğŸ” Portal login attempt: admin@test.com - Aktenzeichen: admin123
ğŸ” Searching in MongoDB for client with email: admin@test.com and aktenzeichen: admin123
âŒ No client found in MongoDB with exact match
ğŸ” Searching in-memory storage (0 clients)
âŒ No client found in in-memory storage either
âŒ Login failed: No client found with email admin@test.com and Aktenzeichen admin123
ğŸ” Portal login attempt: admin@test.com - Aktenzeichen: admin123
ğŸ” Searching in MongoDB for client with email: admin@test.com and aktenzeichen: admin123
âŒ No client found in MongoDB with exact match
ğŸ” Searching in-memory storage (0 clients)
âŒ No client found in in-memory storage either
âŒ Login failed: No client found with email admin@test.com and Aktenzeichen admin123
